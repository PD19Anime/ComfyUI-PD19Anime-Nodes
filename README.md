## ‚è∫ PD19Anime-Nodes
A powerful ComfyUI custom node suite designed for loading image original prompts and enhancing efficiency. Provides intelligent image loading, prompt extraction, and saving functionality.

This node suite was developed based on my personal usage needs. Its core function is batch loading image prompts for high-resolution upscaling of large quantities of images. More nodes may be developed in the future based on my own requirements.

This node draws from code in the was-node-suit-comfyui and comfyui-prompt-reader-node nodes. The license includes their original MIT licenses.

![image](https://github.com/user-attachments/assets/fdbf0f1e-0e73-4c85-80e9-27c8279b9318)



## üåü Main Features
üìñ **Advanced Prompt & Image Loader (Single)**

Intelligently extract prompt information from single images
- Smart Extraction: Automatically reads positive and negative prompts from PNG metadata
- Image Output: Like the official load image node, can pass loaded images to other nodes for processing
- Filename Output: Automatically extracts and outputs original filename prefix
- Prompt Swap: This switch can swap the extracted positive and negative positions

üìö **Advanced Prompt & Image Loader (Multiple)**

Batch image processing and prompt extraction
- Batch Processing: Supports directory-level batch image loading
- Multiple Modes:
  - incremental_image: Load sequentially in order (default)
  - single_image: Load by specified index
  - random: Random loading
- Flexible Filtering: Supports glob pattern file filtering

üé® **Advanced Empty Latent Image**

Empty latent image generator with preset dimensions
- Common Presets:
  - Portrait (832x1216) - Vertical
  - Landscape (1216x832) - Horizontal
  - Square (1024x1024) - Square
  - Manual - Manual input
- Smart Control: Automatically locks width/height input when preset is selected, automatically unlocks when Manual is selected
- Batch Support: Full batch_size functionality
- Multiple Outputs: Simultaneously outputs latent, width, height values

üíæ **Advanced Prompt Saver**

Prompt saving and management tool
- Auto Save: Saves positive and negative prompts as formatted txt files
- Smart Naming: Supports custom filename prefix or automatic timestamp naming
- Status Display: Embedded status display in node, real-time feedback on save results
- Complete Information: Includes timestamp and original filename metadata


## üîß Installation Methods
Method 1: ComfyUI Manager (Under review, please use git clone first)
1. Open ComfyUI Manager
2. Search for "PD19Anime-Nodes"
3. Click install

Method 2: Manual Installation
```
cd ComfyUI/custom_nodes
git clone --recursive https://github.com/PD19Anime/ComfyUI-PD19Anime-Nodes.git
```
Restart ComfyUI after installation to use.


## üìã Usage Examples

![image](https://github.com/user-attachments/assets/fc4a0ba1-11bc-4ac3-822a-633efa3b7cd3)

**Advanced Prompt & Image Loader (Multiple)**

This node is the core functionality of this node suite. For usage examples, please refer to the image above.
* It's not recommended to connect other STRING data to CLIP Text Encode (Prompt) when generating images, as this may cause prompts to be unreadable or produce other errors
* If the prompts read from images generated by your workflow are reversed, please use the swap_prompt switch, so you don't need to reconnect nodes or modify your image generation workflow.
* Images generated by overly complex workflows may have compatibility issues.
___________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________


![image](https://github.com/user-attachments/assets/969081ea-fce0-49ee-8280-312bdb08bbc3)

**Advanced Prompt Saver**

This node is used to save obtained prompts to a specified location. For usage examples, please refer to the Image above.
* You can customize the .txt file name or connect Advanced Prompt & Image Loader's filename_prefix to use the image's filename.
* When filename_prefix is empty, it will automatically generate a filename based on the current time.
___________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________


![image](https://github.com/user-attachments/assets/c61b948e-4fcb-4b8b-8d99-7ab5577b2e1c)

**Advanced Empty Latent Image**

This node is used to replace the official Empty Latent Image node. You can use preset dimensions or manually input custom dimensions.
* When a preset is selected, the width and height below will be locked. Selecting Manual will unlock them.
___________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________


<img width="1632" height="1117" alt="image" src="https://github.com/user-attachments/assets/08aa7cf3-bb55-4267-b9ac-ad0150f066ac" />

**Advanced Random Noise**

___________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________

<img width="2039" height="1236" alt="image" src="https://github.com/user-attachments/assets/19856a20-ae63-437f-b365-e4e84ae76054" />

**Advanced Model Loader**

___________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________________

## ‚ú® What's New
v1.2.3 (Latest)
- ‚ú® Added Advanced Random Noise
- ‚ú® Added Advanced Model Loader


## üìÑ License
MIT License

## üë§ Author
PD19ü™êAnime (https://x.com/PD19_Anime)
